{"version":3,"sources":["main.js"],"names":["$","document","ready","$siteList","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","Document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAW;AACzB,QAAMC,YAAYH,EAAE,WAAF,CAAlB;AACA,QAAMI,UAAUD,UAAUE,IAAV,CAAe,SAAf,CAAhB;AACA,QAAMC,IAAIC,aAAaC,OAAb,CAAqB,GAArB,CAAV;AACA,QAAMC,UAAUC,KAAKC,KAAL,CAAWL,CAAX,CAAhB;AACA,QAAMM,UAAUH,WAAW,CAAC;AACpBI,cAAM,GADc;AAEpBC,aAAK;AAFe,KAAD,EAIvB;AACID,cAAM,GADV;AAEIC,aAAK;AAFT,KAJuB,CAA3B;AASA,QAAMC,cAAc,SAAdA,WAAc,CAACD,GAAD,EAAS;AACzB,eAAOA,IAAIE,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EACFA,OADE,CACM,SADN,EACiB,EADjB,EAEFA,OAFE,CAEM,MAFN,EAEc,EAFd,EAGFA,OAHE,CAGM,MAHN,EAGc,EAHd,CAAP,CADyB,CAIA;AAC5B,KALD;AAMA,QAAMC,SAAS,SAATA,MAAS,GAAM;AACjBd,kBAAUE,IAAV,CAAe,eAAf,EAAgCa,MAAhC;AACAN,gBAAQO,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC7B,gBAAMC,MAAMtB,6EAGOoB,KAAKP,IAHZ,+CAIOE,YAAaK,KAAKN,GAAlB,CAJP,2LAWRS,YAXQ,CAWKnB,OAXL,CAAZ;AAYAkB,gBAAIE,EAAJ,CAAO,OAAP,EAAgB,YAAW;AACvBC,uBAAOC,IAAP,CAAYN,KAAKN,GAAjB;AACH,aAFD;AAGAQ,gBAAIE,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAASG,CAAT,EAAY;AAClCA,kBAAEC,eAAF,GADkC,CACd;AACpBhB,wBAAQiB,MAAR,CAAeR,KAAf,EAAsB,CAAtB;AACAJ;AACH,aAJD;AAKH,SArBD;AAuBH,KAzBD;;AA2BAA;;AAEAjB,MAAE,YAAF,EACKwB,EADL,CACQ,OADR,EACiB,YAAW;AACpB,YAAIV,MAAMW,OAAOK,MAAP,CAAc,UAAd,CAAV;AACA,YAAIhB,IAAIiB,OAAJ,CAAY,MAAZ,MAAwB,CAA5B,EAA+B;AAC3BjB,kBAAM,aAAaA,GAAnB;AACH;AACDF,gBAAQoB,IAAR,CAAa;AACTnB,kBAAME,YAAYD,GAAZ,EAAiB,CAAjB,EAAoBmB,WAApB,EADG;AAETnB,iBAAKA;AAFI,SAAb;;AAMAG;AACH,KAbL;;AAeAQ,WAAOS,cAAP,GAAwB,YAAM;AAC1B,YAAMC,SAASzB,KAAK0B,SAAL,CAAexB,OAAf,CAAf;AACAL,qBAAa8B,OAAb,CAAqB,GAArB,EAA0BF,MAA1B;AACH,KAHD;AAIAnC,MAAEsC,QAAF,EAAYd,EAAZ,CAAe,UAAf,EAA2B,UAASG,CAAT,EAAY;AAAA,YAC3BY,GAD2B,GACnBZ,CADmB,CAC3BY,GAD2B;;AAEnC,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI5B,QAAQ6B,MAA5B,EAAoCD,GAApC,EAAyC;AACrC,gBAAI5B,QAAQ4B,CAAR,EAAW3B,IAAX,CAAgB6B,WAAhB,OAAkCH,GAAtC,EAA2C;AACvCd,uBAAOC,IAAP,CAAYd,QAAQ4B,CAAR,EAAW1B,GAAvB;AACH;AACJ;AACJ,KAPD;AAQH,CA5ED","file":"main.8c1dd799.map","sourceRoot":"..\\src","sourcesContent":["$(document).ready(function() {\r\n    const $siteList = $(\".siteList\")\r\n    const $lastLi = $siteList.find(\"li.last\");\r\n    const x = localStorage.getItem(\"x\")\r\n    const xObject = JSON.parse(x)\r\n    const hashMap = xObject || [{\r\n            logo: 'B',\r\n            url: \"https://www.bilibili.com\"\r\n        },\r\n        {\r\n            logo: \"B\",\r\n            url: \"https://www.baidu.com\",\r\n        }\r\n    ];\r\n    const simplifyUrl = (url) => {\r\n        return url.replace(\"https://\", \"\")\r\n            .replace(\"http://\", \"\")\r\n            .replace(\"www.\", \"\")\r\n            .replace(/\\/.*/, \"\") //删除/开头的内容\r\n    }\r\n    const render = () => {\r\n        $siteList.find('li:not(.last)').remove()\r\n        hashMap.forEach((node, index) => {\r\n            const $li = $(\r\n                `<li> \r\n        <div class = \"site\">\r\n        <div class = \"logo\"> ${node.logo}</div>\r\n        <div class = \"link\"> ${simplifyUrl( node.url) }</div>\r\n        <div class= \"close\">\r\n        <svg class= \"icon\">\r\n        <use xlink:href=\"#icon-close\"></use>\r\n        </svg>\r\n        </div>\r\n        </div>\r\n        </li>`).insertBefore($lastLi)\r\n            $li.on(\"click\", function() {\r\n                window.open(node.url)\r\n            })\r\n            $li.on(\"click\", \".close\", function(e) {\r\n                e.stopPropagation() //阻止冒泡\r\n                hashMap.splice(index, 1)\r\n                render()\r\n            })\r\n        });\r\n\r\n    }\r\n\r\n    render()\r\n\r\n    $(\".addButton\")\r\n        .on(\"click\", function() {\r\n            let url = window.prompt(\"请输入新增的网址\")\r\n            if (url.indexOf(\"http\") !== 0) {\r\n                url = \"https://\" + url;\r\n            }\r\n            hashMap.push({\r\n                logo: simplifyUrl(url)[0].toUpperCase(),\r\n                url: url\r\n            });\r\n\r\n\r\n            render()\r\n        });\r\n\r\n    window.onbeforeunload = () => {\r\n        const string = JSON.stringify(hashMap)\r\n        localStorage.setItem(\"x\", string)\r\n    }\r\n    $(Document).on(\"keypress\", function(e) {\r\n        const { key } = e\r\n        for (let i = 0; i < hashMap.length; i++) {\r\n            if (hashMap[i].logo.toLowerCase() === key) {\r\n                window.open(hashMap[i].url)\r\n            }\r\n        }\r\n    })\r\n});"]}